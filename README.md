# 受注一覧ステータス色分けプラグイン

EC-CUBE 4系プラグイン「受注一覧ステータス色分けプラグイン（OrderStatusColor42）」

## 概要

インストールするだけで、受注一覧の行背景色をステータスごとに自動で色分けし、視認性を劇的に向上させます。

## 機能

- **自動色分け**: 受注一覧の各行の背景色を、注文ステータスに応じて自動的に色分けします
- **設定不要**: インストールするだけで自動的に動作します
- **透明度調整**: 固定透明度（0.1）で視認性を損なわないパステルカラー調のハイライトを実現します
- **カスタムステータス対応**: `mtb_order_status_color`テーブルから色を取得するため、カスタマイズで追加されたステータスにも自動的に対応します

## 対応バージョン

- EC-CUBE 4.2.x 〜 4.3.x

## インストール方法

1. プラグインをダウンロード
2. EC-CUBE管理画面の「オーナーズストア」→「プラグイン一覧」からインストール
3. プラグインを有効化

## 使い方

インストールして有効化するだけで、受注一覧画面の各行がステータスに応じて自動的に色分けされます。

- 各ステータスの色は`mtb_order_status_color`テーブルに設定されている色を使用します
- 色が設定されていないステータスは、デフォルトでグレー（#999999）で表示されます

## 技術仕様

- **PHP**: Symfony Event Dispatcherを使用してテンプレートイベントを購読
- **JavaScript**: ネイティブDOM APIを使用して行の背景色を適用
- **CSS**: Bootstrap 5のCSS変数（`--bs-table-accent-bg`）を使用
- **データベース**: `mtb_order_status_color`テーブルから色を取得

## 開発

### 必要な環境

- PHP 8.1以上
- EC-CUBE 4.2.x 〜 4.3.x
- Composer

### テスト

```bash
php vendor/bin/phpunit app/Plugin/OrderStatusColor42/Tests/
```

### CI/CD

GitHub Actionsで自動テストが実行されます。

- PHP 8.1, 8.3
- MySQL 8.0, PostgreSQL 15

## ライセンス

GPL-2.0-only または proprietary

## 作者

dotani1111

## サポート

問題や質問がある場合は、GitHubのIssuesでお知らせください。

